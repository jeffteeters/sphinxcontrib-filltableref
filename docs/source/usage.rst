Usage
=====

The ``tblrender`` directive is used in the following way:

.. code-block:: rst


   .. _<table_name>:

   Title of table
   --------------

   Description of table (displayed only before rendered summary table, not before source
   tables.


   .. tblrender <table_name>
   :description:
      Description of table, displayed before each "source" table, which are generated by "tbldata" directives.
   << ptable specification >> AND/OR << gridtable specification >>


Where <ptable specification> contains:

.. code-block:: rst

   :rows: "Source cell", "basket", "golgi", "granule", "purkinje", "stellate"
   :cols: "Target cell", "Cell count", "basket", "golgi", "granule", "purkinje", "stellate"
   :expanded_col_title: "Cell count or Target cell"
   :ct_offset: 2


and <gridtable specification> contains a ``:gridLayout:`` parameter followed by a Sphinx grid table, like:

.. code-block:: rst

   :gridLayout:
      +-------------+----------+------------------------------------------------------------------+
      |             |          |  Target cell                                                     |
      | Source      | Cell     +------------+------------+------------+-------------+-------------+
      | cell        | count    | basket     | golgi      | granule    | purkinje    | stellate    |
      +=============+==========+============+============+============+=============+=============+
      | basket      |          |      -     |            |            |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | golgi       |          |            |      -     |            |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | granule     |          |            |            |      -     |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | purkinje    |          |            |            |            |      -      |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | stellate    |          |            |            |            |             |      -      |
      +-------------+----------+------------+------------+------------+-------------+-------------+



.. _table_loebner_fig2a:


Cells and connections in cat
----------------------------

The following table provides counts of cells and connections in the cat cerebellum.
The first two columns (*Source cell* and *Cell count*) are respectively a cell type
and the count (number) of cells of that type.  The values in the rest of the table
give the number of connections from the Source cell to Target cells.  These are
specified as a pair of numbers: FO,FI.  FO is fan-out (number of target cells each
source cell contacts) and FI is fan-in (number of source cells going to each target
cell).  Most of the data is from Figure 2 in :cite:`LoebnerEE-1989`, but new data will
be added.



.. tblrender:: table_loebner_fig2a
   :rows: "Source cell", "basket", "golgi", "granule", "purkinje", "stellate"
   :cols: "Target cell", "Cell count", "basket", "golgi", "granule", "purkinje", "stellate"
   :expanded_col_title: "Cell count or Target cell"
   :ct_offset: 2
   :description:
      Values are either a Cell count, or FO,FI where FO is *fan-out* (number of target cells
      each source cell contacts) and FI is *fan-in* (number of source cells going to each
      target cell).
   :gridLayout:
      +-------------+----------+------------------------------------------------------------------+
      |             |          |  Target cell                                                     |
      | Source      | Cell     +------------+------------+------------+-------------+-------------+
      | cell        | count    | basket     | golgi      | granule    | purkinje    | stellate    |
      +=============+==========+============+============+============+=============+=============+
      | basket      |          |      -     |            |            |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | golgi       |          |            |      -     |            |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | granule     |          |            |            |      -     |             |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | purkinje    |          |            |            |            |      -      |             |
      +-------------+----------+------------+------------+------------+-------------+-------------+
      | stellate    |          |            |            |            |             |      -      |
      +-------------+----------+------------+------------+------------+-------------+-------------+








Name the PDF files and notes files as described in :ref:`installation`.


Use the normal bibtex or bibtex2 directives:

.. code-block:: rst

   See :cite:`JaeckelLA-1989a` also :footcite:`JaeckelLA-1989a` for more details.

   Some random text...

   .. footbibliography::



This will be rendered as:

See :cite:`JaeckelLA-1989a` also :footcite:`JaeckelLA-1989a` for more details.

Some random text...

.. footbibliography::


Generating a list of the notes
------------------------------


To generate a list of notes files, put an additional ".rst" file in the directory containing
the notes (the name of the file could be "notes.rst").
Include in the file a ``toctree::`` directive like in the following:

.. code-block:: rst

   The following notes are available:
   
   .. toctree::
      :glob:
   
      *


This will be rendered as shown on the :ref:`notes` page.


